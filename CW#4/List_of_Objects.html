<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  <meta name="viewport" content="width=device-width">
  <link rel="icon" href="https://blm-fsmvu.github.io/305/images/icon192.png">
  <title>List of Objects </title>

  <style>
    body {
      max-width: 500px;
    }

    #inp {
      white-space: pre-wrap;
    }

    #sample {
      overflow-x: auto;
    }

    #out {
      color: blue;
    }
  </style>
</head>

<body>

  <h2 id="title">List of Objects</h2>
  <b>Text input â€ƒ
    <input type="button" id="convert" value="Convert" onclick="toList()">
  </b>
  <p>
    <textarea id="inp" onchange="convert.disabled=false" rows="10" cols="50">  </textarea>
  </p>
  <b>JSON output</b>
  <pre
    id="out"></pre>
  <hr>
  <b>Sample code</b>
  <pre
    id="sample">function toList(str) {<br>  function toObject(x) {<br>    let b = {}<br>    for (let [i,s] of x.split('\t').entries())<br>      b[keys[i]] = (isNaN(s)? s : Number(s))<br>    return b<br>  }<br>    if (str) inp.value = str<br>    else str = inp.value<br>    convert.disabled = true<br>    let [d0, ...data] = str.split('\n')<br>    let keys = d0.split('\t')<br>    console.log("Keys:", keys)<br>    let a = data.map(toObject)<br>    out.innerText = JSON.stringify(a, '' ,2)<br>    console.table(a)<br>    return a<br>}</pre>
  <hr>
  <p>Ref:
    <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters#Examples"
      target="NewTab">Rest Parameters</a>
  </p>
  <p>Ref:
    <a href="https://omerkucuker.github.io/AdvancePrograming/CW%234/replaceall.PNG"
       target="NewTab">replaceAll('.','-')</a>
    </p>
    <p>Ref:  
    <a href="https://omerkucuker.github.io/AdvancePrograming/CW%234/filter_map.PNG"
       target="NewTab">Filter and Map</a>
    </p>

  <script>
    "use strict";
    function toList(str) {
      function toObject(x) {
        let b = {}
        for (let [i, s] of x.split('\t').entries())
          b[keys[i]] = (isNaN(s) ? s : Number(s))
        return b
      }
      if (str) inp.value = str
      else str = inp.value
      convert.disabled = true
      let [d0, ...data] = str.split('\n')
      let keys = d0.split('\t')
      console.log("Keys:", keys)
      let a = data.map(toObject)
      out.innerText = JSON.stringify(a, '', 2)
      console.table(a)
      return a
    }
    const PLANET =
      `Name	Diam	Mass	Radius	Period
Mercury	0.382	0.06	0.40	0.24
Venus	0.949	0.82	0.72	0.62
Earth	1.000	1.00	1.00	1.00
Mars	0.532	0.11	1.52	1.88
Jupiter	11.209	317.80	5.20	11.86
Saturn	9.449	95.20	9.54	29.46
Uranus	4.007	14.60	19.22	84.01
Neptune	3.883	17.20	30.06	164.80`,

PLAYER =
`NAME	CLUB	RATING	SALARY	AGE
RONALDO	JUVE	92	35.5	33
MESSI	BARCA	91	34.5	30
MESUT	ARSENAL	86	26.5	30
AGUERO	MANCITY	90	35.0	31
KROS	MADRID	86	27.75	29`,

MOUNT = `mountain	height	place
Kilimanjaro	5895	Tanzania
Everest 	8848	Nepal
Mount Fuji	3776	Japan
Vaalserberg	323	Netherlands
Denali  	6168	United States
Popocatepetl	5465	Mexico
Mont Blanc	4808	Italy/France`

    title.innerText = document.title
    sample.innerText = toList
    inp.value = PLAYER
    //toList()  //array of objects
  </script>



</body>

</html>
