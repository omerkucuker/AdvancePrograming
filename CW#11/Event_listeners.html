<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  <meta name="viewport" content="width=device-width">
  <title>Callback and Promise</title>

  <style>
    /* CSS comment */
    body {
      max-width: 440px;
    }

    #url {
      width: 190px;
    }

    span,
    #url {
      color: blue;
    }
  </style>
  <script
    data-dapp-detection="">(function () { let e = !1; function n() { if (!e) { const n = document.createElement("meta"); n.name = "dapp-detected", document.head.appendChild(n), e = !0 } } if (window.hasOwnProperty("ethereum")) { if (window.__disableDappDetectionInsertion = !0, void 0 === window.ethereum) return; n() } else { var t = window.ethereum; Object.defineProperty(window, "ethereum", { configurable: !0, set: function (e) { window.__disableDappDetectionInsertion || n(), t = e }, get: function () { return window.__disableDappDetectionInsertion || n(), t } }) } })();</script>
</head>

<body>
  <!-- HTML comment: Modify all items marked xxx -->


  <p title="Battery Status">
    Battery Status: <span id="battery">??</span>
  </p>
  <p title="Online Status">
    Online Status: <span id="onlineStatus">??</span>
  </p>
  <p title="Keyboard">
    Keyboard:<span id="keyboardListener"> </span>
  </p>

  <hr>
  <b>Sample code</b>
  <pre
    id="sample">function init() {<br>//write your code here<br>}<br>function check() {<br>//write your code here<br>}</pre>

  <hr>

  <script>
    "use strict";
    // JavaScript comment

    function init() {

      let p = navigator.getBattery();
      p.then(b);

      function b(e) {
        let level = Math.round(e.level * 100)
        if (e.onlevelchange){
          battery.innerText = "Charging..  Level: " + level +
            "%  ChargingTime: " + e.chargingTime
        }
        else {
          battery.innerText = "DisCharging..  Level: " + level +
            "%  DischargingTime: " + e.dischargingTime
        }

      }

      if (navigator.onLine) {
        onlineStatus.innerText = "connected -- online"
      } else {
        onlineStatus.innerText = "disconnected -- offline"
      }

      window.onkeyup = keyUp;
      window.onkeydown = keyDown;
      function keyUp(e) {
        keyboardListener.innerText = e.key + ':' + e.type
      }
      function keyDown(e) {
        keyboardListener.innerText = e.key + ':' + e.type
      }


    }
    sample.innerText = init + '\n';
    init();
  </script>



</body>

</html>
